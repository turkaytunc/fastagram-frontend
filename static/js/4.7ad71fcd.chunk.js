(this["webpackJsonpfastagram-frontend"]=this["webpackJsonpfastagram-frontend"]||[]).push([[4],{86:function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var n=s(2),r=s.n(n),a=s(3),c=s(1),o=s(7),i=s(15),l=s(5);function u(e){var t=Object(c.useContext)(i.a),s=Object(l.g)();Object(c.useEffect)((function(){(function(){var n=Object(a.a)(r.a.mark((function n(){var a,c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(o.m)();case 3:return a=n.sent,n.next=6,a.json();case 6:if((c=n.sent).message){n.next=11;break}return null===t||void 0===t||t.setUser(c.user),s.push("".concat(e)),n.abrupt("return");case 11:return null===t||void 0===t||t.setUser(null),localStorage.removeItem("auth"),s.push("/login"),n.abrupt("return");case 17:n.prev=17,n.t0=n.catch(0),null===t||void 0===t||t.setUser(null),localStorage.removeItem("auth"),s.push("/login");case 22:case"end":return n.stop()}}),n,null,[[0,17]])})));return function(){return n.apply(this,arguments)}})()()}),[])}},87:function(e,t,s){},90:function(e,t,s){"use strict";s.r(t);var n=s(2),r=s.n(n),a=s(3),c=s(4),o=s(1),i=s(5),l=s(12),u=(s(87),s(8)),b=s(28),d=s(27),j=s(16),m=s(7),h=s(15),f=s(86),x=s(0);t.default=function(){var e,t=Object(o.useState)(""),s=Object(c.a)(t,2),n=s[0],O=s[1],g=Object(o.useState)(""),p=Object(c.a)(g,2),v=p[0],w=p[1],N=Object(o.useState)(""),y=Object(c.a)(N,2),k=y[0],S=y[1],I=Object(o.useState)(!0),C=Object(c.a)(I,2),E=C[0],U=C[1],P=Object(o.useContext)(h.a),D=Object(i.g)();Object(f.a)("/"),Object(o.useEffect)((function(){document.title="Login \u2022 Instagram"}),[]);var F=function(){var e=Object(a.a)(r.a.mark((function e(t){var s,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Object(b.b)(n,v);case 4:return e.next=6,Object(m.j)(n,v);case 6:return s=e.sent,e.next=9,s.json();case 9:if(!(a=e.sent).message){e.next=13;break}return S(a.message),e.abrupt("return");case 13:null===P||void 0===P||P.setUser(a.user),window.localStorage.setItem("auth",a.token),D.push("/"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),S(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("section",{className:"flex justify-center",children:[Object(x.jsx)("div",{className:"hidden lg:block",children:Object(x.jsx)(j.f,{})}),Object(x.jsxs)("section",{className:"login-container md:border md:border-gray-300 p-10",children:[Object(x.jsx)("img",{className:"w-48",src:d.a,alt:"instagram"}),Object(x.jsx)("div",{className:"my-7",children:Object(x.jsxs)("button",{type:"button",className:"form-button flex justify-center items-center",children:[Object(x.jsx)(u.e,{className:"mr-2"}),"Continue with Facebook"]})}),Object(x.jsx)("div",{className:"relative border-t border-gray-300 w-68",children:Object(x.jsx)("span",{className:"absolute -top-2 bg-gray-50 text-gray-400 w-14 left-28 text-sm",children:"OR"})}),Object(x.jsxs)("form",{onSubmit:function(e){return F(e)},children:[Object(x.jsx)(j.j,{testId:"login-email",item:n,setItem:O,setError:S,isPassword:!1,placeholder:"Email"}),Object(x.jsxs)("div",{className:"flex w-68 mt-2 rounded-sm",children:[Object(x.jsx)(j.j,{testId:"login-password",item:v,setItem:w,setError:S,isPassword:E,placeholder:"Password"}),Object(x.jsx)("div",{className:"w-12 border mt-2 border-l-0 rounded-sm",children:Object(x.jsx)("button",{"data-testid":"login-show-hide",className:"w-full h-10 text-sm font-medium",type:"button",onClick:function(){return U((function(e){return!e}))},children:E?"Show":"Hide"})})]}),Object(x.jsx)("div",{className:"w-68 text-right mt-3 font-light",children:Object(x.jsx)(l.b,{className:"text-sm ",to:"/login",children:"Forgot password?"})}),Object(x.jsx)("button",{style:{backgroundColor:"".concat(n.length>5&&v.length>5?"#0095f6":"rgba(0,149,246,.3)")},className:"form-button",type:"submit",disabled:n.length<5||v.length<5,children:"Log in"})]}),k&&Object(x.jsx)("div",{className:"mt-5 w-68 text-red-500 text-sm",children:k}),Object(x.jsxs)("div",{className:"text-sm w-68 text-gray-400 mt-5",children:["Don't have an account? ",Object(x.jsx)(l.b,{to:"/signup",children:"Sign up"})]})]}),Object(x.jsx)("div",{children:null===P||void 0===P||null===(e=P.user)||void 0===e?void 0:e.email})]})}}}]);
//# sourceMappingURL=4.7ad71fcd.chunk.js.map