{"version":3,"sources":["routes/signup/Signup.tsx"],"names":["Signup","useState","username","setUsername","fullname","setFullname","password","setPassword","email","setEmail","inputError","setInputError","showPassword","setShowPassword","user","useContext","UserContext","history","useHistory","useEffect","document","title","handleSignup","event","a","preventDefault","signupValidator","signup","response","json","data","message","setUser","window","localStorage","setItem","token","push","className","src","instagramLogo","alt","type","onSubmit","e","testId","item","setError","isPassword","placeholder","data-testid","onClick","prev","style","backgroundColor","length","disabled","to"],"mappings":"gRA0IeA,UAhIA,WACb,MAAgCC,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAgCF,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAAgCJ,mBAAS,IAAzC,mBAAOK,EAAP,KAAiBC,EAAjB,KACA,EAA0BN,mBAAS,IAAnC,mBAAOO,EAAP,KAAcC,EAAd,KACA,EAAoCR,mBAAS,IAA7C,mBAAOS,EAAP,KAAmBC,EAAnB,KACA,EAAwCV,oBAAS,GAAjD,mBAAOW,EAAP,KAAqBC,EAArB,KAEMC,EAAOC,qBAAWC,KAClBC,EAAUC,cAEhBC,qBAAU,WACRC,SAASC,MAAQ,4BAChB,IAEH,IAAMC,EAAY,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,6DACnBD,EAAME,iBADa,kBAIXC,YAAgBxB,EAAUI,EAAUE,GAJzB,uBAKMmB,YAAOzB,EAAUE,EAAUI,EAAOF,GALxC,cAKXsB,EALW,gBAMEA,EAASC,OANX,YAMXC,EANW,QAQRC,QARQ,wBASfpB,EAAcmB,EAAKC,SATJ,2BAab,OAAJjB,QAAI,IAAJA,KAAMkB,QAAQF,EAAKhB,MACnBmB,OAAOC,aAAaC,QAAQ,OAAQL,EAAKM,OACzCnB,EAAQoB,KAAK,KAfI,kDAiBjB1B,EAAc,KAAMoB,SAjBH,0DAAH,sDAqBlB,OACE,0BAASO,UAAU,sBAAnB,UACE,qBAAKA,UAAU,kBAAf,SACE,cAAC,IAAD,MAEF,0BAASA,UAAU,qDAAnB,UACE,qBAAKA,UAAU,OAAOC,IAAKC,IAAeC,IAAI,cAC9C,yBAASH,UAAU,0BAAnB,iEAGA,qBAAKA,UAAU,YAAf,SACE,yBAAQI,KAAK,SAASJ,UAAU,sDAAhC,UACE,cAAC,IAAD,CAAkBA,UAAU,SAD9B,8BAKF,qBAAKA,UAAU,yCAAf,SACE,sBAAMA,UAAU,gEAAhB,kBAEF,uBAAMK,SAAU,SAACC,GAAD,OAAOtB,EAAasB,IAApC,UACE,cAAC,IAAD,CACEC,OAAO,cACPC,KAAMtC,EACN2B,QAAS1B,EACTsC,SAAUpC,EACVqC,YAAY,EACZC,YAAY,UAEd,cAAC,IAAD,CACEJ,OAAO,iBACPC,KAAM1C,EACN+B,QAAS9B,EACT0C,SAAUpC,EACVqC,YAAY,EACZC,YAAY,cAEd,cAAC,IAAD,CACEJ,OAAO,iBACPC,KAAM5C,EACNiC,QAAShC,EACT4C,SAAUpC,EACVqC,YAAY,EACZC,YAAY,aAGd,sBAAKX,UAAU,uBAAf,UACE,cAAC,IAAD,CACEO,OAAO,iBACPC,KAAMxC,EACN6B,QAAS5B,EACTwC,SAAUpC,EACVqC,WAAYpC,EACZqC,YAAY,aAEd,qBAAKX,UAAU,yCAAf,SACE,wBACEY,cAAY,mBACZZ,UAAU,kCACVI,KAAK,SACLS,QAAS,kBAAMtC,GAAgB,SAACuC,GAAD,OAAWA,MAJ5C,SAMGxC,EAAe,OAAS,cAI/B,wBACEyC,MAAO,CACLC,gBAAgB,GAAD,OACbpD,EAASqD,OAAS,GAAKjD,EAASiD,OAAS,GAAK/C,EAAM+C,OAAS,EACzD,UACA,uBAGRjB,UAAU,qBACVI,KAAK,SACLc,SAAUtD,EAASqD,OAAS,GAAKjD,EAASiD,OAAS,GAAK/C,EAAM+C,OAAS,EAVzE,wBAeD7C,GAAc,qBAAK4B,UAAU,iCAAf,SAAiD5B,IAChE,0BAAS4B,UAAU,kCAAnB,6CACkC,sBAAMA,UAAU,cAAhB,iCAAyD,IAD3F,OAEM,sBAAMA,UAAU,cAAhB,4BAFN,QAIA,sBAAKA,UAAU,kCAAf,8BACmB,cAAC,IAAD,CAAMmB,GAAG,SAAT","file":"static/js/5.7975b73c.chunk.js","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport './signup.scss';\nimport instagramLogo from 'src/images/instagram-login.png';\nimport { useHistory, Link } from 'react-router-dom';\nimport { FaFacebookSquare } from 'react-icons/fa';\nimport { signupValidator } from 'src/helpers/joiValidators';\nimport { FakePhoneScreen, InputBox } from 'src/components';\nimport { signup } from 'src/api';\nimport { UserContext } from 'src/context/UserContext';\n\nconst Signup = () => {\n  const [username, setUsername] = useState('');\n  const [fullname, setFullname] = useState('');\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n  const [inputError, setInputError] = useState('');\n  const [showPassword, setShowPassword] = useState(true);\n\n  const user = useContext(UserContext);\n  const history = useHistory();\n\n  useEffect(() => {\n    document.title = 'Signup â€¢ Instagram';\n  }, []);\n\n  const handleSignup = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    try {\n      await signupValidator(username, password, email);\n      const response = await signup(username, fullname, email, password);\n      const data = await response.json();\n\n      if (data.message) {\n        setInputError(data.message);\n        return;\n      }\n\n      user?.setUser(data.user);\n      window.localStorage.setItem('auth', data.token);\n      history.push('/');\n    } catch (error) {\n      setInputError(error.message);\n    }\n  };\n\n  return (\n    <section className=\"flex justify-center\">\n      <div className=\"hidden lg:block\">\n        <FakePhoneScreen />\n      </div>\n      <section className=\"signup-container md:border md:border-gray-300 p-10\">\n        <img className=\"w-48\" src={instagramLogo} alt=\"instagram\" />\n        <section className=\"w-68 mt-5 text-gray-400\">\n          Sign up to see photos and videos from your friends.\n        </section>\n        <div className=\"mt-2 mb-7\">\n          <button type=\"button\" className=\"signup-form-button flex justify-center items-center\">\n            <FaFacebookSquare className=\"mr-2\" />\n            Continue with Facebook\n          </button>\n        </div>\n        <div className=\"relative border-t border-gray-300 w-68\">\n          <span className=\"absolute -top-2 bg-gray-50 text-gray-400 w-14 left-28 text-sm\">OR</span>\n        </div>\n        <form onSubmit={(e) => handleSignup(e)}>\n          <InputBox\n            testId=\"email-input\"\n            item={email}\n            setItem={setEmail}\n            setError={setInputError}\n            isPassword={false}\n            placeholder=\"Email\"\n          />\n          <InputBox\n            testId=\"fullname-input\"\n            item={fullname}\n            setItem={setFullname}\n            setError={setInputError}\n            isPassword={false}\n            placeholder=\"Full Name\"\n          />\n          <InputBox\n            testId=\"username-input\"\n            item={username}\n            setItem={setUsername}\n            setError={setInputError}\n            isPassword={false}\n            placeholder=\"Username\"\n          />\n\n          <div className=\"flex w-68 rounded-sm\">\n            <InputBox\n              testId=\"password-input\"\n              item={password}\n              setItem={setPassword}\n              setError={setInputError}\n              isPassword={showPassword}\n              placeholder=\"Password\"\n            />\n            <div className=\"w-12 border border-l-0 rounded-sm mt-2\">\n              <button\n                data-testid=\"show-hide-button\"\n                className=\"w-full h-10 text-sm font-medium\"\n                type=\"button\"\n                onClick={() => setShowPassword((prev) => !prev)}\n              >\n                {showPassword ? 'Show' : 'Hide'}\n              </button>\n            </div>\n          </div>\n          <button\n            style={{\n              backgroundColor: `${\n                username.length > 5 && password.length > 5 && email.length > 5\n                  ? '#0095f6'\n                  : 'rgba(0,149,246,.3)'\n              }`,\n            }}\n            className=\"signup-form-button\"\n            type=\"submit\"\n            disabled={username.length < 5 || password.length < 5 || email.length < 5}\n          >\n            Sign up\n          </button>\n        </form>\n        {inputError && <div className=\"mt-5 w-68 text-red-500 text-sm\">{inputError}</div>}\n        <section className=\"text-sm w-68 text-gray-400 mt-5\">\n          By signing up, you agree to our <span className=\"font-medium\">Terms , Data Policy</span>{' '}\n          and <span className=\"font-medium\">Cookies Policy</span> .\n        </section>\n        <div className=\"text-sm w-68 text-gray-400 mt-5\">\n          Have an account? <Link to=\"/login\">Log in</Link>\n        </div>\n      </section>\n    </section>\n  );\n};\nexport default Signup;\n"],"sourceRoot":""}